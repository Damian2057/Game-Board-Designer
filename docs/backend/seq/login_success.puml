@startuml

title Correct login and access to the protected resource
autonumber

participant "Browser" as browser
participant "Server" as server



browser -> server : login and password
activate server
server -> server : Check credentials
alt correct
server --> browser : access token
browser -> server : get users
server -> server : Check token
alt correct
server --> browser : protected resource
else incorrect
server --> browser : token expired
end
else incorrect
server --> browser : incorrect login or password
end
deactivate server


deactivate server


@enduml